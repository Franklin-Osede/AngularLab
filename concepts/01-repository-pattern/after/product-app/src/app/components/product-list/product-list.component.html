<div class="product-list">
  <h2>Products (Repository Pattern)</h2>

  <!-- Loading state -->
  <div *ngIf="loading" class="loading">Loading products...</div>

  <!-- Error state -->
  <div *ngIf="error" class="error">Error: {{ error }}</div>

  <!-- Products grid -->
  <div *ngIf="!loading && !error" class="products-grid">
    <div *ngFor="let product of products" class="product-card">
      <h3>{{ product.name }}</h3>
      <p class="price">${{ product.price }}</p>
      <p class="description">{{ product.description }}</p>
      <p class="category">{{ product.category }}</p>
      <span class="stock" [class.in-stock]="product.inStock">
        {{ product.inStock ? "In Stock" : "Out of Stock" }}
      </span>
    </div>
  </div>

  <!-- Search and filter controls -->
  <div class="controls">
    <div class="search-form">
      <input
        type="text"
        placeholder="Search products..."
        (input)="onSearch($event)"
      />
      <button (click)="loadProducts()">Refresh</button>
    </div>

    <div class="filter-buttons">
      <button (click)="getExpensiveProducts()" class="filter-btn">
        Expensive Products (>$200)
      </button>
      <button (click)="getProductsInStock()" class="filter-btn">
        In Stock Only
      </button>
    </div>
  </div>
</div>
